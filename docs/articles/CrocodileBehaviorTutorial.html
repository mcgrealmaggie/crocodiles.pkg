<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Crocodile Behavior Tutorial • mcgreal.pkg</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Crocodile Behavior Tutorial">
<meta property="og:description" content="mcgreal.pkg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mcgreal.pkg</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/CrocodileBehaviorTutorial.html">Crocodile Behavior Tutorial</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Crocodile Behavior Tutorial</h1>
                        <h4 data-toc-skip class="author">Maggie
McGreal</h4>
            
            <h4 data-toc-skip class="date">2023-11-28</h4>
      
      
      <div class="hidden name"><code>CrocodileBehaviorTutorial.rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="an-introduction-to-my-r-package">An Introduction to My R Package<a class="anchor" aria-label="anchor" href="#an-introduction-to-my-r-package"></a>
</h2>
<p>The purpose of this R package is for analysis and visualization of
remotely transmitted movement and behavioral data from animal-borne
devices. This package will work with data obtained from custom-built
satellite trackers developed by Dr. Youngho Shin. These data will
include measurements obtained from sensors such as: IMU, GPS, real-time
clock, depth recorder, and more.</p>
</div>
<div class="section level2">
<h2 id="load-packages">Load Packages<a class="anchor" aria-label="anchor" href="#load-packages"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ── <span style="font-weight: bold;">Attaching core tidyverse packages</span> ──────────────────────── tidyverse 2.0.0 ──</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">dplyr    </span> 1.1.4     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">readr    </span> 2.1.4</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">forcats  </span> 1.0.0     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">stringr  </span> 1.5.1</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">ggplot2  </span> 3.4.4     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tibble   </span> 3.2.1</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">lubridate</span> 1.9.3     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tidyr    </span> 1.3.0</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">purrr    </span> 1.0.2     </span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Conflicts</span> ────────────────────────────────────────── tidyverse_conflicts() ──</span></span>
<span><span class="co">## <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">filter()</span> masks <span style="color: #0000BB;">stats</span>::filter()</span></span>
<span><span class="co">## <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">lag()</span>    masks <span style="color: #0000BB;">stats</span>::lag()</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Use the conflicted package (<span style="color: #0000BB; font-style: italic;">&lt;http://conflicted.r-lib.org/&gt;</span>) to force all conflicts to become errors</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://broom.tidymodels.org/" class="external-link">broom</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span> </span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span> </span></code></pre></div>
<pre><code><span><span class="co">## Loading required package: usethis</span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/credentials/" class="external-link">credentials</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Found git version 2.25.1</span></span>
<span><span class="co">## Supported HTTPS credential helpers: cache, store</span></span>
<span><span class="co">## Found OpenSSH_8.2p1 Ubuntu-4ubuntu0.9, OpenSSL 1.1.1f  31 Mar 2020</span></span>
<span><span class="co">## No key found. Use ssh_keygen() to generate one!</span></span></code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org" class="external-link">readr</a></span><span class="op">)</span> </span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://wilkelab.org/cowplot/" class="external-link">cowplot</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Attaching package: 'cowplot'</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## The following object is masked from 'package:lubridate':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     stamp</span></span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org" class="external-link">lubridate</a></span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"ggmap"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Installing package into '/tmp/RtmpFscjDg/temp_libpath13152e1c79d'</span></span>
<span><span class="co">## (as 'lib' is unspecified)</span></span></code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Installing package into '/tmp/RtmpFscjDg/temp_libpath13152e1c79d'</span></span>
<span><span class="co">## (as 'lib' is unspecified)</span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"googlesheets4"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Installing package into '/tmp/RtmpFscjDg/temp_libpath13152e1c79d'</span></span>
<span><span class="co">## (as 'lib' is unspecified)</span></span></code></pre>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/dkahle/ggmap" class="external-link">ggmap</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #00BB00;">ℹ</span> Google's Terms of Service: <span style="color: #0000BB; font-style: italic;">&lt;https://mapsplatform.google.com&gt;</span></span></span>
<span><span class="co">##   Stadia Maps' Terms of Service: <span style="color: #0000BB; font-style: italic;">&lt;https://stadiamaps.com/terms-of-service/&gt;</span></span></span>
<span><span class="co">##   OpenStreetMap's Tile Usage Policy: <span style="color: #0000BB; font-style: italic;">&lt;https://operations.osmfoundation.org/policies/tiles/&gt;</span></span></span>
<span><span class="co">## <span style="color: #00BB00;">ℹ</span> Please cite <span style="color: #0000BB;">ggmap</span> if you use it! Use `citation("ggmap")` for details.</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Attaching package: 'ggmap'</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## The following object is masked from 'package:cowplot':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     theme_nothing</span></span></code></pre>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org" class="external-link">remotes</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Attaching package: 'remotes'</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## The following objects are masked from 'package:devtools':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     dev_package_deps, install_bioc, install_bitbucket, install_cran,</span></span>
<span><span class="co">##     install_deps, install_dev, install_git, install_github,</span></span>
<span><span class="co">##     install_gitlab, install_local, install_svn, install_url,</span></span>
<span><span class="co">##     install_version, update_packages</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## The following object is masked from 'package:usethis':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     git_credentials</span></span></code></pre>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://googlesheets4.tidyverse.org" class="external-link">googlesheets4</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="installing-the-r-package">Installing the R Package<a class="anchor" aria-label="anchor" href="#installing-the-r-package"></a>
</h2>
<p>To install the R package enter the following code into your console.
This package will include functions from vegan and tidyverse as well as
functions unique to this package.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"mcgrealmaggie/crocodiles.pkg"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Using github PAT from envvar GITHUB_PAT</span></span></code></pre>
<pre><code><span><span class="co">## Downloading GitHub repo mcgrealmaggie/crocodiles.pkg@HEAD</span></span></code></pre>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">──</span> <span style="color: #00BBBB;">R CMD build</span> <span style="color: #00BBBB;">─────────────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">## * checking for file ‘/tmp/RtmpdG7ykc/remotes14685f6c8bc/mcgrealmaggie-crocodiles.pkg-52ecadc/DESCRIPTION’ ... OK</span></span>
<span><span class="co">## * preparing ‘mcgreal.pkg’:</span></span>
<span><span class="co">## * checking DESCRIPTION meta-information ... OK</span></span>
<span><span class="co">## * checking for LF line-endings in source and make files and shell scripts</span></span>
<span><span class="co">## * checking for empty or unneeded directories</span></span>
<span><span class="co">## * looking to see if a ‘data/datalist’ file should be added</span></span>
<span><span class="co">## * building ‘mcgreal.pkg_0.1.tar.gz’</span></span>
<span><span class="co">## Warning: invalid uid value replaced by that for user 'nobody'</span></span></code></pre>
<pre><code><span><span class="co">## Installing package into '/tmp/RtmpFscjDg/temp_libpath13152e1c79d'</span></span>
<span><span class="co">## (as 'lib' is unspecified)</span></span></code></pre>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#install.packages("mcgreal.pkg")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">mcgreal.pkg</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="download-data">Download Data<a class="anchor" aria-label="anchor" href="#download-data"></a>
</h2>
<p>Run the following code to obtain and store the data for this
tutorial.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://googlesheets4.tidyverse.org/reference/gs4_deauth.html" class="external-link">gs4_deauth</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">croc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://googlesheets4.tidyverse.org/reference/range_read.html" class="external-link">read_sheet</a></span><span class="op">(</span><span class="st">"https://docs.google.com/spreadsheets/d/17-DF8Riz_mkOL-KpFpe1K9W6FBnJdiWsziWZk_IOpiA/edit?usp=sharing"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #00BB00;">✔</span> Reading from <span style="color: #00BBBB;">croc</span>.</span></span></code></pre>
<pre><code><span><span class="co">## <span style="color: #00BB00;">✔</span> Range <span style="color: #BBBB00;">croc.csv</span>.</span></span></code></pre>
<p>Run the following code to preview the data.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">croc</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 × 10</span></span></span>
<span><span class="co">##       id date       time                  lat  long     X     Y     Z behavior  </span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> <span style="text-decoration: underline;">716</span>739 2021.05.14 1899-12-30 <span style="color: #949494;">19:36:31</span>  10.3 -<span style="color: #BB0000;">85.3</span> 0.148 0.113  0.59 inactive …</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> <span style="text-decoration: underline;">716</span>739 2021.05.15 1899-12-30 <span style="color: #949494;">19:36:32</span>  10.3 -<span style="color: #BB0000;">85.3</span> 0.148 0.113  0.59 swimming  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> <span style="text-decoration: underline;">716</span>739 2021.05.16 1899-12-30 <span style="color: #949494;">19:36:33</span>  10.3 -<span style="color: #BB0000;">85.3</span> 0.148 0.113  0.59 inactive …</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> <span style="text-decoration: underline;">716</span>739 2021.05.17 1899-12-30 <span style="color: #949494;">19:36:34</span>  10.3 -<span style="color: #BB0000;">85.3</span> 0.973 1.03  -<span style="color: #BB0000;">1.98</span> gaping    </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> <span style="text-decoration: underline;">716</span>739 2021.05.18 1899-12-30 <span style="color: #949494;">19:36:35</span>  10.3 -<span style="color: #BB0000;">85.3</span> 0.973 1.03  -<span style="color: #BB0000;">1.98</span> gaping    </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> <span style="text-decoration: underline;">716</span>739 2021.05.19 1899-12-30 <span style="color: #949494;">19:36:36</span>  10.3 -<span style="color: #BB0000;">85.3</span> 0.797 1.34  -<span style="color: #BB0000;">2.46</span> swimming  </span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 1 more variable: context &lt;chr&gt;</span></span></span></code></pre>
</div>
<div class="section level2">
<h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a>
</h2>
<div class="section level3">
<h3 id="function-1-sensordata">Function 1: sensorData<a class="anchor" aria-label="anchor" href="#function-1-sensordata"></a>
</h3>
<div class="section level4">
<h4 id="data-cleaning">Data Cleaning<a class="anchor" aria-label="anchor" href="#data-cleaning"></a>
</h4>
<p>These animal borne trackers collect continuous high frequency data,
so the datasets obtained from them will be very large. For this reason,
multiple kinds of analysis will be ran separately and it’s useful to
start by creating a new data.frame with only the columns needed for that
particular analysis.</p>
<p>This package will focus on matching behaviors, or behavioral states,
to activity levels and how the animal distributes its activities across
the landscape. Therefore, the function sensorData() will take our
imported data set, select only the columns for longitude, latitude,
acceleration measurements (X, Y, and Z), and assigned behaviors. Because
we are getting rid of the timestamps, this function will also create a
new column called “sample_ID” which numbers the rows in chronological
order, to assure the GPS points follow the correct path.</p>
<p>To obtain the cleaned data.frame, enter the following code into your
R console.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sensorData.html">sensorData</a></span><span class="op">(</span><span class="va">croc</span>, <span class="st">"long"</span>, <span class="st">"lat"</span>, <span class="st">"X"</span>, <span class="st">"Y"</span>, <span class="st">"Z"</span>, <span class="st">"behavior"</span>, <span class="st">"sample_id"</span><span class="op">)</span></span></code></pre></div>
<p>Run the following code to ensure the new data.frame contains the
appropriate columns.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 × 7</span></span></span>
<span><span class="co">##   sample_id  long   lat     X     Y     Z behavior        </span></span>
<span><span class="co">##       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span>         1 -<span style="color: #BB0000;">85.3</span>  10.3 0.148 0.113  0.59 inactive resting</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span>         2 -<span style="color: #BB0000;">85.3</span>  10.3 0.148 0.113  0.59 swimming        </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span>         3 -<span style="color: #BB0000;">85.3</span>  10.3 0.148 0.113  0.59 inactive resting</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span>         4 -<span style="color: #BB0000;">85.3</span>  10.3 0.973 1.03  -<span style="color: #BB0000;">1.98</span> gaping          </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span>         5 -<span style="color: #BB0000;">85.3</span>  10.3 0.973 1.03  -<span style="color: #BB0000;">1.98</span> gaping          </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span>         6 -<span style="color: #BB0000;">85.3</span>  10.3 0.797 1.34  -<span style="color: #BB0000;">2.46</span> swimming</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="function-2-calculateodba">Function 2: calculateODBA<a class="anchor" aria-label="anchor" href="#function-2-calculateodba"></a>
</h3>
<div class="section level4">
<h4 id="derive-metrics">Derive Metrics<a class="anchor" aria-label="anchor" href="#derive-metrics"></a>
</h4>
<p>One of the most exciting aspects of tri-axial accelerometers are
their value in quantifying proxies for energy expenditure. By taking the
sum of the absolute values of the three axes of acceleration
measurements, we get a metric known as ODBA, or Overall Dynamic Body
Acceleration. This serves as a quantification of activity levels.
Together with assigned behavioral states and GPS data, ODBA allows us to
peer into the secret lives of animals; how, where, and what they spend
their time and energy on.</p>
<p>ODBA can be calculated and added as an additional column in the
data.frame with the function calculateODBA(). This function contains
arguments in which the data.frame and the 3 columns containing
acceleration measurements (X, Y, Z) are identified and used to produce a
new data.frame with the calculated ODBA column.</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calculateODBA.html">calculateODBA</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">X</span>, <span class="va">Y</span>, <span class="va">Z</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="function-3-runanova">Function 3: runANOVA<a class="anchor" aria-label="anchor" href="#function-3-runanova"></a>
</h3>
<div class="section level4">
<h4 id="analysis-of-variance-anova">Analysis of Variance (ANOVA)<a class="anchor" aria-label="anchor" href="#analysis-of-variance-anova"></a>
</h4>
<p>Are there notable differences in the average ODBA values across the
various crocodile behaviors? Do different behaviors lead to
statistically significant variations in activity levels?</p>
<p>Answering these questions is important for a) identifying
characteristics of acceleration associated with certain behaviors,
allowing us to better understand what an animal is doing from the
measurements taken by the sensors, and b) determine if certain behaviors
are more energetically costly than others.</p>
<p>To better understand the relationship between ODBA variation and
certain crocodile behaviors, the function runANOVA will take your
data.frame, ODBA as the response variable, and behavior as the
predictor, and provide a summary of the ANOVA which aims to answer the
question: Does the variation in ODBA differ across behaviors in
crocodiles?</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/runANOVA.html">runANOVA</a></span><span class="op">(</span><span class="va">data</span>, <span class="st">"ODBA"</span>, <span class="st">"behavior"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##              Df Sum Sq Mean Sq F value Pr(&gt;F)</span></span>
<span><span class="co">## behavior      4   8.43   2.107   1.595  0.179</span></span>
<span><span class="co">## Residuals   129 170.35   1.321</span></span></code></pre>
<pre><code><span><span class="co">##              Df Sum Sq Mean Sq F value Pr(&gt;F)</span></span>
<span><span class="co">## behavior      4   8.43   2.107   1.595  0.179</span></span>
<span><span class="co">## Residuals   129 170.35   1.321</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="function-5-plotodba">Function 5: plotODBA<a class="anchor" aria-label="anchor" href="#function-5-plotodba"></a>
</h3>
<div class="section level4">
<h4 id="visualize-the-relationship-between-odba-and-behavior">Visualize the relationship between ODBA and Behavior<a class="anchor" aria-label="anchor" href="#visualize-the-relationship-between-odba-and-behavior"></a>
</h4>
<p>To fully understand the relationship between activity level and
certain behaviors, it is useful to visualize it as a plot. The function
plotODBA will use the same arguments as the ANOVA and provide you with a
plot that plots ODBA levels according to behavior as well as the means
and variance of ODBA for each of those behaviors.</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plotODBA.html">plotODBA</a></span><span class="op">(</span><span class="va">data</span>, <span class="st">"behavior"</span>, <span class="st">"ODBA"</span><span class="op">)</span></span></code></pre></div>
<p><img src="CrocodileBehaviorTutorial_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
</div>
</div>
<div class="section level3">
<h3 id="mapping-crocodile-movements">Mapping Crocodile Movements<a class="anchor" aria-label="anchor" href="#mapping-crocodile-movements"></a>
</h3>
</div>
<div class="section level3">
<h3 id="function-6-mapodba">Function 6: mapODBA<a class="anchor" aria-label="anchor" href="#function-6-mapodba"></a>
</h3>
<div class="section level4">
<h4 id="mapping-by-activity-level">Mapping by Activity Level<a class="anchor" aria-label="anchor" href="#mapping-by-activity-level"></a>
</h4>
<p>The function mapODBA() creates a map from GPS data and colors the
path according to corresponding ODBA values, allowing us to gain insight
into where and how crocodiles distribute their energy across the
landscape.</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/mapODBA.html">mapODBA</a></span><span class="op">(</span><span class="va">data</span>, <span class="st">"long"</span>, <span class="st">"lat"</span>, <span class="st">"ODBA"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #BBBB00;">!</span> Bounding box given to Google - spatial extent only approximate.</span></span></code></pre>
<pre><code><span><span class="co">## <span style="color: #00BBBB;">ℹ</span> <span style="color: #0000BB; font-style: italic;">&lt;https://maps.googleapis.com/maps/api/staticmap?center=10.334686,-85.237056&amp;zoom=11&amp;size=640x640&amp;scale=2&amp;maptype=terrain&amp;language=en-EN&amp;key=xxx-xDPMFeWS7F7CgQhALUGRA9sbTSZM&gt;</span></span></span></code></pre>
<p><img src="CrocodileBehaviorTutorial_files/figure-html/unnamed-chunk-12-1.png" width="700"></p>
</div>
</div>
<div class="section level3">
<h3 id="function-7-mapbehavior">Function 7: mapBehavior()<a class="anchor" aria-label="anchor" href="#function-7-mapbehavior"></a>
</h3>
<div class="section level4">
<h4 id="mapping-by-behavior">Mapping by Behavior<a class="anchor" aria-label="anchor" href="#mapping-by-behavior"></a>
</h4>
<p>Being able to attribute animal activity and specific behaviors to
geographic locations is not only interesting, it is also extremely
useful for things like conservation efforts and, in the case of these
crocodiles, mitigating human wildlife conflicts. Through doing this, we
can see movement routes, important habitats for feeding and mating, and
much more.</p>
<p>The function mapBehavior() will take the behavior associated with
each GPS coordinate and display them as points on the map. To create
this map, run the following code.</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/mapBehavior.html">mapBehavior</a></span><span class="op">(</span><span class="va">data</span>, <span class="st">"long"</span>, <span class="st">"lat"</span>, <span class="st">"behavior"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #BBBB00;">!</span> Bounding box given to Google - spatial extent only approximate.</span></span></code></pre>
<pre><code><span><span class="co">## <span style="color: #00BBBB;">ℹ</span> <span style="color: #0000BB; font-style: italic;">&lt;https://maps.googleapis.com/maps/api/staticmap?center=10.334686,-85.237056&amp;zoom=11&amp;size=640x640&amp;scale=2&amp;maptype=terrain&amp;language=en-EN&amp;key=xxx-xDPMFeWS7F7CgQhALUGRA9sbTSZM&gt;</span></span></span></code></pre>
<p><img src="CrocodileBehaviorTutorial_files/figure-html/unnamed-chunk-13-1.png" width="700"></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Maggie McGreal.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
